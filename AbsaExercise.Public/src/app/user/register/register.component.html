<form [formGroup]="form" (ngSubmit)="register(form.value)">
  <h2>Register</h2>
  <div class="form-group" [ngClass]="{'has-error':!form.controls['userName'].valid}">
    <label class="form-label">User Name</label>
    <input class="form-control" formControlName="userName" placeholder="Username" />
    <div class="alert alert-danger" *ngIf="!form.controls['userName'].valid && form.controls['userName'].touched">
      Username required
    </div>
  </div>

  <div class="form-group" [ngClass]="{'has-error':!form.controls['password'].valid || !form.controls['password'].value}">
    <label class="form-label">Password</label>
    <input class="form-control" formControlName="password" type="password" placeholder="Password" />
    <div class="alert alert-danger" *ngIf="!form.controls['password'].valid && form.controls['password'].touched">
      Password with minimum of 6 characters required
    </div>
  </div>

  <div class="form-group" [ngClass]="{'has-error':!form.controls['confirmPassword'].valid}">
    <label class="form-label">Confirm Password</label>
    <input class="form-control" formControlName="confirmPassword" type="password" placeholder="Confirm Password" />
    <div class="alert alert-danger" *ngIf="form.controls['confirmPassword'].value != form.controls['password'].value && form.controls['confirmPassword'].touched">
      Passwords do not match
    </div>
  </div>

  <div class="form-group">
    <button type="submit" class="btn btn-primary" [disabled]="!form.valid || registering || form.controls['confirmPassword'].value != form.controls['password'].value">
      <span *ngIf="!registering">Register</span>
      <span *ngIf="registering">Registering</span></button>
    <br /> Already have an account?
    <br /> Log in <a class="pointer" (click)="login()">here</a>
  </div>
</form>